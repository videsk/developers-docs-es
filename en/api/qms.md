---
description: Below, you'll see how to use our API to connect with QMS systems.
---

# QMS

With our Rest API for calls, you can generate live calls for your clients programmatically integrated with QMS (Queue Management Systems).

The following endpoints are public, meaning `/public/` is prefixed as a differentiator from private endpoints.

{% hint style="warning" %}
We recommend using status codes to apply logic to your integrations.
{% endhint %}

{% hint style="info" %}
Due to the nomenclature of QMS systems, `queue` is mentioned as a reference to segments, being similar.
{% endhint %}

## Considerations

Consider that the communication between our ACD and POCs (points of contact) is automatic. When a ticket (call) is assigned to an executive and they answer, our QMS webhook is triggered, which is configured in each account.

You can see more information in the [Webhooks documentation](broken-reference).

### Integration flow

Glossary:

* QMS: Queue Management System
* POC: Points of contact
* Screens: Displays with turns

[REPLACE_CODE_FORMAT]mermaid
sequenceDiagram

    participant Screens
    participant QMS
    participant Videsk

    QMS->>Videsk: Requests adding customer to video queue
    Note over QMS,Videsk: Immediate success or failure response
    Videsk->>QMS: Responds to queue addition request
    activate Videsk
    Videsk-->>Videsk: Assigns call to an agent and POC
    Videsk->>QMS: (Webhook) Assignment notification
    deactivate Videsk
    QMS->>Screens: Notifies customer POC number on screen
    Screens->>Videsk: Customer sits in front of POC

[REPLACE_CODE_FORMAT]

{% swagger method="post" path="/branches/:branch/queues/:queue" baseUrl="https://api.videsk.io/public/video-contact-center" summary="Request to add to queue" %}
{% swagger-description %}
Request to add a QMS ticket to the queue
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" type="String" required="true" %}
Backend API Key
{% endswagger-parameter %}

{% swagger-parameter in="body" name="integrationData" type="Mixed" %}
Ticket data (Array, Object or String)
{% endswagger-parameter %}

{% swagger-parameter in="path" name="branch" type="String" required="true" %}
Office ID
{% endswagger-parameter %}

{% swagger-parameter in="path" name="queue" type="String" required="true" %}
Queue ID (segment)
{% endswagger-parameter %}

{% swagger-parameter in="body" name="form" type="String" %}
Form ID
{% endswagger-parameter %}

{% swagger-response status="201: Created" description="Ticket added to the queue" %}
[REPLACE_CODE_FORMAT]json
{
"id": "652a1ae848880e168884e49b",
"segment": "Trámites ABC"
}
[REPLACE_CODE_FORMAT]

The response contains the internal ticket ID in the queue and the name of the segment (queue)
{% endswagger-response %}

{% swagger-response status="400: Bad Request" description="Incorrect office or segment ID" %}
[REPLACE_CODE_FORMAT]json
{
"name": "NotFound",
"message": "The segment for the branch \"1234567890\" is not assigned or the branch id is incorrect",
"code": 404,
"className": "not-found",
"errors": {}
}
[REPLACE_CODE_FORMAT]
{% endswagger-response %}

{% swagger-response status="400: Bad Request" description="Mandatory form" %}
[REPLACE_CODE_FORMAT]json
{
"name": "BadRequest",
"message": "Is mandatory to provide a forms submission id.",
"code": 400,
"className": "bad-request",
"errors": {}
}
[REPLACE_CODE_FORMAT]

For more information on errors generated by forms, visit the [forms documentation](formularios.md).
{% endswagger-response %}

{% swagger-response status="406: Not Acceptable" description="No agents available" %}
[REPLACE_CODE_FORMAT]json
{
"name": "NotAcceptable",
"message": "Not agent available in the segment \"652a1ae848880e168884e49b\", please try later.",
"code": 406,
"className": "not-acceptable",
"errors": {}
}
[REPLACE_CODE_FORMAT]
{% endswagger-response %}

{% swagger-response status="422: Unprocessable Entity" description="Unable to process the request" %}
[REPLACE_CODE_FORMAT]json
{
"name": "Unprocessable",
"message": "We're not able to request adding you to the queue, try again.",
"code": 422,
"className": "unprocessable",
"errors": {}
}
[REPLACE_CODE_FORMAT]
{% endswagger-response %}
{% endswagger %}

{% hint style="info" %}
The `integrationData` value will be used to be sent through our webhooks, so it is useful in case you want to send an internal ID, metadata, etc. for synchronization.



This will not be shown to the agent, it will only be available in the integration webhooks.
{% endhint %}

{% swagger method="get" path="/branches" baseUrl="https://api..videsk.io/public/video-contact-center" summary="Get list of offices" %}
{% swagger-description %}
List of offices using API Key
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" type="String" required="true" %}
Backend API Key
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="List of offices" %}
```json
[
    {
        "location": [
            7,
            9
        ],
        "label": "Virtual Main branch",
        "address": "1345 Main Street, CA",
        "name": "branch-main-1345",
        "id": "652720d479497a1b62df288b"
    }
]
```
{% endswagger-response %}
{% endswagger %}

{% swagger method="get" path="/branches/:branch/queues" baseUrl="https://api.videsk.io/public/video-contact-center" summary="Get list of queues" %}
{% swagger-description %}
List of available queues in the office
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" type="String" required="true" %}
Backend API Key
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="List of available queues" %}
```json
[
    {
        "name": "Atención a clientes",
        "id": "652a1ae848880e168884e49b",
        "users": 0
    }
]
```

The response includes `users` which corresponds to the number of agents available for immediate attention.
{% endswagger-response %}

{% swagger-response status="404: Not Found" description="Office not found" %}
```json
{
    "name": "NotFound",
    "message": "The branch was not found",
    "code": 404,
    "className": "not-found",
    "errors": {}
}
```
{% endswagger-response %}
{% endswagger %}

{% swagger method="get" path="/branches/:branch/queues/:queue" baseUrl="https://api.videsk.io/public/video-contact-center" summary="Get queue information" %}
{% swagger-description %}
Obtain information about an individual queue
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" type="String" required="true" %}
Backend API Key
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="Queue information" %}
```json
{
    "name": "Atención a clientes",
    "id": "652a1ae848880e168884e49b",
    "users": 1
}
```
{% endswagger-response %}

{% swagger-response status="404: Not Found" description="Office or segment not found" %}
```json
{
    "name": "NotFound",
    "message": "The branch or segment was not found",
    "code": 404,
    "className": "not-found",
    "errors": {}
}
```
{% endswagger-response %}
{% endswagger %}
